/* Basic Reset & Root Variables */
:root {
  --font-color: #2a132f;
  --active-link-color: #4a2253;
  --background-color: #dad5d0;
  --font-family-main: "Overpass", sans-serif;
  --header-height: 5rem; /* Header height set to 5rem (80px) */
  --logo-height: 2.5rem; /* Approx 40px, fits well in 5rem header */
  --submenu-height: 3rem; /* Height for the submenu bar */
}

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-family-main);
  color: var(--font-color);
  background-color: var(--background-color);
  line-height: 1.7;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  font-size: 100%;
  padding-top: var(--header-height);
}

/* For pages with submenu, add extra padding */
body.project-page {
  padding-top: calc(var(--header-height) + var(--submenu-height));
}

.container {
  width: 90%;
  max-width: 1100px;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;
}

/* Header Styles */
.site-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--header-height);
  background-color: var(--background-color);
  display: flex;
  align-items: center;
  z-index: 1000;
  border-bottom: 1px dotted rgba(42, 19, 47, 0.3);
}

.header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}

.logo-image {
  height: var(--logo-height);
  width: auto;
  display: block;
}

/* Main Navigation Styles */
.main-nav ul {
  list-style: none;
  display: flex;
  align-items: center;
  gap: 3rem;
}

.main-nav a {
  text-decoration: none;
  color: var(--font-color);
  font-weight: 400;
  font-size: 0.95rem;
  padding: 0.5rem 0;
  display: block;
  transition: color 0.3s ease, font-weight 0.3s ease;
}

.main-nav a:hover {
  color: var(--active-link-color);
}

.main-nav a.active {
  color: var(--active-link-color);
  font-weight: 600;
  text-decoration: underline;
  text-underline-offset: 0.3em;
}

/* Projects Submenu Styles - NEW */
.projects-submenu {
  position: fixed;
  top: var(--header-height);
  left: 0;
  right: 0;
  height: var(--submenu-height);
  background-color: var(--background-color);
  z-index: 999;
  display: flex;
  align-items: center;
  border-bottom: 1px dotted rgba(42, 19, 47, 0.3);
}

.submenu-links {
  list-style: none;
  display: flex;
  align-items: center;
  gap: 3rem;
}

.submenu-links li {
  position: relative;
}

.submenu-links a {
  text-decoration: none;
  color: var(--font-color);
  font-weight: 400;
  font-size: 0.95rem;
  padding: 0.5rem 0;
  display: block;
  transition: color 0.3s ease, font-weight 0.3s ease;
}

.submenu-links a:hover {
  color: var(--active-link-color);
}

.submenu-links a.active {
  color: var(--active-link-color);
  font-weight: 600;
}

.project-subtitle {
  display: none; /* Hide by default */
  font-weight: 100;
  font-size: 0.8rem;
  color: var(--font-color);
  margin-top: 0.25rem;
  white-space: nowrap;
}

/* Always show subtitle for active items */
.submenu-links li a.active + .project-subtitle {
  display: block;
}

/* Show subtitle on hover for non-active items */
.submenu-links li:hover .project-subtitle {
  display: block;
}

/* Hamburger Menu (Mobile) */
.nav-toggle {
  display: none;
  background: transparent;
  border: 0;
  cursor: pointer;
  padding: 0.5em;
  z-index: 1002;
}

.hamburger {
  display: block;
  position: relative;
  width: 2em;
  height: 3px;
  background: var(--font-color);
  transition: transform 0.3s ease-in-out;
}
.hamburger::before,
.hamburger::after {
  content: "";
  position: absolute;
  left: 0;
  width: 100%;
  height: 3px;
  background: var(--font-color);
  transition: transform 0.3s ease-in-out, top 0.3s ease-in-out, bottom 0.3s ease-in-out;
}
.hamburger::before {
  top: -8px;
}
.hamburger::after {
  bottom: -8px;
}

.nav-open .hamburger {
  transform: rotate(45deg);
}
.nav-open .hamburger::before {
  top: 0;
  transform: rotate(90deg);
}
.nav-open .hamburger::after {
  bottom: 0;
  transform: rotate(90deg);
  opacity: 0;
}

/* Main Content Styles */
.site-main {
  flex-grow: 1;
  display: flex;
  align-items: flex-start;
  padding-top: 2rem;
  padding-bottom: 3rem;
}

.hero-section {
  padding-top: 2rem;
  padding-bottom: 2rem;
  text-align: left;
  width: 100%;
}

.hero-content h1 {
  font-size: clamp(3rem, 10vw, 5rem);
  font-weight: 900;
  line-height: 1.1;
  margin-bottom: 0.5rem;
}
.hero-content .subtitle {
  font-size: clamp(1.25rem, 4vw, 1.75rem);
  margin-bottom: 1rem;
  color: var(--font-color);
}
.hero-content .subtitle span {
  color: rgba(42, 19, 47, 0.8);
  margin: 0 0.25em;
}
.hero-content .tagline {
  font-size: clamp(0.9rem, 2.5vw, 1.1rem);
  color: rgba(42, 19, 47, 0.9);
}
.hero-content .tagline .separator {
  color: rgba(42, 19, 47, 0.5);
  margin: 0 0.25em;
}

/* Project Page Styles */
.project-page .site-main {
  align-items: flex-start;
}

.project-header {
  margin-bottom: 3rem;
}

.project-title {
  font-size: clamp(2.5rem, 8vw, 4rem);
  font-weight: 900;
  line-height: 1.1;
  color: var(--font-color);
  margin-bottom: 0.5rem;
}

.project-subtitle {
  font-size: clamp(1rem, 3vw, 1.5rem);
  font-weight: 100;
  color: var(--font-color);
  line-height: 1.4;
}

.project-section {
  margin-bottom: 4rem;
}

.overview-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;
}

.overview-meta {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 1.5rem;
}

.meta-item h3 {
  font-size: 0.9rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
}

.meta-item p {
  font-size: 0.85rem;
  margin-bottom: 0.25rem;
}

.main-image {
  width: 100%;
}

.responsive-image {
  width: 100%;
  height: auto;
  display: block;
}

.overview-description p {
  margin-bottom: 1rem;
  font-size: 0.95rem;
}

/* Challenge Section */
.challenge-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;
}

.existing-branding h3,
.key-issues h3 {
  font-size: 1.1rem;
  margin-bottom: 1.5rem;
}

.existing-logos {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 1rem;
  margin-top: 1.5rem;
}

.logo-sample {
  width: 100%;
  height: auto;
  max-height: 120px;
  object-fit: contain;
}

.key-issues ul {
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
}

.key-issues li {
  margin-bottom: 0.5rem;
}

/* Research Section */
.project-section h2 {
  font-size: 1.5rem;
  margin-bottom: 1rem;
  font-weight: 700;
}

.phase-description {
  margin-bottom: 1.5rem;
  font-size: 0.95rem;
}

.image-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.process-image {
  width: 100%;
  height: auto;
  display: block;
}

.additional-info {
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 1.5rem;
}

/* Final Logos */
.final-logos-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 1.5rem;
}

.logo-final {
  width: 100%;
  height: auto;
  max-height: 100px;
  object-fit: contain;
}

/* Wireframes */
.wireframes-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;
  margin-top: 1.5rem;
}

.wireframe-image {
  width: 100%;
  height: auto;
  display: block;
}

/* Mockups */
.website-goals,
.website-features {
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
}

.mockups-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;
}

.mockup-image {
  width: 100%;
  height: auto;
  display: block;
}

/* Merchandise */
.merchandise-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 1.5rem;
}

.merchandise-image {
  width: 100%;
  height: auto;
  display: block;
}

/* Footer Styles */
.site-footer-simple {
  background-color: transparent;
  padding: 1.5rem 0;
  text-align: center;
  font-size: 0.9rem;
  color: var(--font-color);
  margin-top: auto;
}

/* Projects Grid Page */
.projects-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 2rem;
  margin-top: 2rem;
}

.project-card {
  background-color: rgba(255, 255, 255, 0.05);
  border-radius: 0.25rem;
  overflow: hidden;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.project-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
}

.project-card-link {
  display: block;
  text-decoration: none;
  color: var(--font-color);
}

.project-thumbnail {
  width: 100%;
  height: 200px;
  object-fit: cover;
  display: block;
}

.project-card-title {
  font-size: 1.5rem;
  font-weight: 700;
  margin: 1rem;
}

.project-card-subtitle {
  font-size: 0.9rem;
  font-weight: 100;
  margin: 0 1rem 1rem;
  color: var(--font-color);
}

.page-title {
  font-size: clamp(2.5rem, 8vw, 4rem);
  font-weight: 900;
  margin-bottom: 1.5rem;
}

/* Ensure project-subtitle is displayed correctly in all contexts */
.project-card .project-card-subtitle {
  display: block;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
  .nav-toggle {
    display: block;
  }

  .main-nav .nav-links {
    display: none;
    position: fixed;
    top: var(--header-height);
    left: 0;
    right: 0;
    background-color: var(--background-color);
    flex-direction: column;
    align-items: flex-start;
    padding: 1rem 0;
    box-shadow: 0 0.25rem 0.375rem rgba(0, 0, 0, 0.1);
    border-bottom: 1px dotted rgba(42, 19, 47, 0.3);
  }
  .main-nav .nav-links.nav-open {
    display: flex;
    z-index: 1001;
  }

  .main-nav ul li {
    width: 100%;
    text-align: left;
    padding-left: 1.5rem;
  }

  .main-nav ul li a {
    display: block;
    padding: 0.75rem 0;
    width: auto;
  }

  /* Mobile submenu handling */
  .projects-submenu {
    display: none;
    position: static;
    height: auto;
    border-bottom: none;
  }

  body.project-page {
    padding-top: var(--header-height);
  }

  .submenu-links {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
    padding: 0.5rem 0;
  }

  .submenu-links li {
    width: 100%;
    padding-left: 1.5rem;
  }

  /* Always show subtitle for active items on mobile */
  .submenu-links li a.active + .project-subtitle {
    display: block;
  }

  /* Enhance the project-content sections for better mobile view */
  .overview-grid,
  .challenge-grid,
  .wireframes-grid,
  .mockups-grid,
  .merchandise-grid {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  .existing-logos,
  .final-logos-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 769px) {
  .overview-grid {
    grid-template-columns: 1fr 2fr;
    grid-template-areas:
      "meta image"
      "description description";
  }

  .overview-meta {
    grid-area: meta;
  }

  .main-image {
    grid-area: image;
  }

  .overview-description {
    grid-area: description;
  }

  .challenge-grid {
    grid-template-columns: 1fr 1fr;
  }

  .wireframes-grid,
  .mockups-grid {
    grid-template-columns: 1fr 1fr;
  }
}
